#!/usr/bin/env python
import matplotlib.pyplot as plt
import matplotlib.image as mpimg

def merge_figures(img_file_positive, img_file_negative, output_file):
    # Read the images.
    img_positive = mpimg.imread(img_file_positive)
    img_negative = mpimg.imread(img_file_negative)
    
    # Create a new figure with two subplots side by side.
    fig, axs = plt.subplots(1, 2, figsize=(20, 10))
    
    # Plot the positive aggregated figure.
    axs[0].imshow(img_positive)
    axs[0].axis('off')  # Turn off axes ticks/labels.
    # axs[0].set_title("Aggregated Positive by Seq_Type", fontsize=16)
    axs[0].set_title("Genes on Forward Strand", fontsize=16)
    
    # Plot the negative aggregated figure.
    axs[1].imshow(img_negative)
    axs[1].axis('off')
    # axs[1].set_title("Aggregated Negative by Seq_Type", fontsize=16)
    axs[1].set_title("Genes on Reverse Strand", fontsize=16)

    plt.tight_layout()
    plt.savefig(output_file, bbox_inches='tight', dpi=300)
    plt.show()

if __name__ == "__main__":
    # Filenames for the figures generated by your previous script.
    positive_file = "/home/kchao10/scr4_ssalzbe1/khchao/Yeast_ML/experiments/SUM_data_process/MPRA/results/single_measurement_stranded/viz/expression_vs_position/aggregated_positive_by_seq_type.png"
    negative_file = "/home/kchao10/scr4_ssalzbe1/khchao/Yeast_ML/experiments/SUM_data_process/MPRA/results/single_measurement_stranded/viz/expression_vs_position/aggregated_negative_by_seq_type.png"
    output_merged_file = "/home/kchao10/scr4_ssalzbe1/khchao/Yeast_ML/experiments/SUM_data_process/MPRA/results/single_measurement_stranded/viz/expression_vs_position/merged_aggregated_by_seq_type.png"
    
    merge_figures(positive_file, negative_file, output_merged_file)

